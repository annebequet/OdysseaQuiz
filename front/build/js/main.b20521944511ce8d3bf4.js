(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){},37:function(e,t,a){a(38),e.exports=a(92)},38:function(e,t,a){},47:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(14),o=a(4),l=a(6),s=function(e,t,a){return{type:"SAVE_USER",pseudo:e,roles:t,isLogged:a}},c=a(1),u=a.n(c),m=a(3),g=(a(47),function(){return n.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,style:{position:"absolute",width:"100%",height:"100%",left:"0",top:"0",objectFit:"cover",zIndex:"-1"}},n.a.createElement("source",{src:"https://dm0qx8t0i9gc9.cloudfront.net/watermarks/video/rytughwRxj1s1gmp3/videoblocks-underwater-landscape-of-coral-reef-amazing-underwater-marine-life-world-scuba-diving-and-snorkeling_baj3ircnz__d3d6d16680620376fe9c58e37c21cfb7__P360.mp4",type:"video/mp4"}))}),d=a(36),p=(a(63),function(e){var t=e.label,a=e.type,r=e.id,i=e.value,o=e.setValue;return n.a.createElement("div",{className:"field"},n.a.createElement("label",{htmlFor:r,className:"field__label"},t),n.a.createElement("input",{className:"field__input",id:r,type:a,placeholder:t,value:i,onChange:function(e){o(e.target.value)}}))});p.propTypes={label:u.a.string.isRequired,type:u.a.string,id:u.a.string.isRequired,value:u.a.string.isRequired,setValue:u.a.func.isRequired},p.defaultProps={type:"text"};var f=p,E=Object(o.b)((function(e,t){return{value:e.headerLogin[t.id]}}),(function(e,t){return{setValue:function(a){e(function(e,t){return{type:"CHANGE_FIELD_VALUE",key:e,value:t}}(t.id,a))}}}))(f),v=(a(26),function(e){var t=e.open,a=e.handleTogglerClick,r=e.login;return n.a.createElement("div",{className:"".concat(t?"login login--open":"login")},n.a.createElement("button",{onClick:function(){a()},className:"login__toggler",type:"button"},"Connexion"),n.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),r()}},n.a.createElement(E,{label:"Adresse Email",id:"username",type:"username"}),n.a.createElement(E,{label:"Mot de passe",id:"password",type:"password"}),n.a.createElement("button",{className:"login__submit",type:"submit"},"Se connecter")))});v.propTypes={handleTogglerClick:u.a.func.isRequired,open:u.a.bool.isRequired,login:u.a.func.isRequired};var h=v,b=Object(o.b)((function(e){return{open:e.headerLogin.open}}),(function(e){return{handleTogglerClick:function(){e({type:"HANDLE_TOGGLER_CLICK"})},login:function(){e({type:"LOGIN"})}}}))(h),y=function(){return n.a.createElement("div",{className:"header__nav__register"},n.a.createElement(l.b,{to:"/register",activeClassName:"menu__link--active",exact:!0},"S'enregistrer"))},_=a.p+"images/094cde893dffdca893944fca4515a73c.png",N=function(e){var t=e.roles,a=e.isLogged;return n.a.createElement("div",{className:"header"},n.a.createElement("nav",{className:"menu--desktop"},n.a.createElement(l.b,{to:"/",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Accueil"),n.a.createElement(l.b,{to:"/categories",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Catégories"),-1!==t.indexOf("ROLE_ADMIN")&&n.a.createElement(l.b,{to:"/admin",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"admin")),n.a.createElement("nav",{className:"menu--burger"},n.a.createElement(d.bubble,{disableAutoFocus:!0},n.a.createElement(l.b,{to:"/",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Accueil"),n.a.createElement(l.b,{to:"/categories",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Catégories"),-1!==t.indexOf("ROLE_ADMIN")&&n.a.createElement(l.b,{to:"/admin",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Admin"),n.a.createElement(l.b,{to:"/contact",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Contact"),n.a.createElement(l.b,{to:"/faq",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"FAQ"),n.a.createElement("img",{className:"logo",alt:"whale-logo",src:_}))),!a&&n.a.createElement("div",{className:"header__nav__form"},n.a.createElement(y,null),n.a.createElement(b,null)))};N.propTypes={roles:u.a.array.isRequired,isLogged:u.a.bool.isRequired};var O=N,w=Object(o.b)((function(e){return{roles:e.headerLogin.roles,isLogged:e.headerLogin.isLogged}}),(function(){return{}}))(O),C=(a(65),function(){return n.a.createElement("div",{className:"footer"},"Footer")}),S=(a(66),function(e){var t=e.children;return n.a.createElement("main",{className:"page"},n.a.createElement("div",{className:"page__content"},t))});S.propTypes={children:u.a.node.isRequired};var j=S,P=(a(67),function(e){var t=e.value,a=e.type,r=e.name,i=e.label,o=e.onChange,l="register-field-".concat(r);return n.a.createElement("div",{className:t.length>0?"field field--has-content":"field"},n.a.createElement("label",{htmlFor:l,className:"register-field-label"},i),n.a.createElement("input",{value:t,onChange:function(e){o(e.target.value,r)},id:l,type:a,className:"register-field-input",placeholder:i,name:r}))});P.propTypes={value:u.a.string,type:u.a.string,name:u.a.string.isRequired,label:u.a.string.isRequired,onChange:u.a.func.isRequired},P.defaultProps={value:"",type:"text"};var L=P,k=(a(68),function(e){var t=e.email,a=e.password,r=e.lastName,i=e.firstName,o=e.pseudo,l=e.avatar,s=e.changeField,c=e.handleRegister;return n.a.createElement("div",{className:"register"},n.a.createElement("form",{className:"register__form",onSubmit:function(e){e.preventDefault(),c()}},n.a.createElement(L,{label:"Adresse Email",id:"username",name:"email",type:"email",onChange:s,value:t}),n.a.createElement(L,{name:"password",type:"password",label:"Mot de passe",id:"password",onChange:s,value:a}),n.a.createElement(L,{name:"lastName",type:"lastName",label:"Nom",id:"lastName",onChange:s,value:r}),n.a.createElement(L,{name:"firstName",type:"firstName",label:"Prénom",id:"lastName",onChange:s,value:i}),n.a.createElement(L,{name:"pseudo",type:"pseudo",label:"Pseudo",id:"pseudo",onChange:s,value:o}),n.a.createElement(L,{name:"avatar",type:"avatar",label:"Avatar",id:"avatar",onChange:s,value:l}),n.a.createElement("button",{type:"submit",className:"register-form-button"},"S'inscrire")))});k.propTypes={lastName:u.a.string,firstName:u.a.string,pseudo:u.a.string.isRequired,email:u.a.string.isRequired,password:u.a.string.isRequired,avatar:u.a.string,changeField:u.a.func.isRequired,handleRegister:u.a.func.isRequired},k.defaultProps={lastName:"",firstName:"",avatar:""};var R=k,T=Object(o.b)((function(e){return{email:e.register.email,password:e.register.password,lastName:e.register.lastName,firstName:e.register.firstName,pseudo:e.register.pseudo,avatar:e.register.avatar}}),(function(e){return{handleRegister:function(){e({type:"REGISTER"})},changeField:function(t,a){e(function(e,t){return{type:"CHANGE_FIELD",name:t,value:e}}(t,a))}}}))(R),A=a(17),x=(a(69),a(70),function(e){var t=e.surveyData;A.StylesManager.applyTheme("modern");var a=new A.Model(t);return n.a.createElement(A.Survey,{model:a,onComplete:function(e,t){console.log(JSON.stringify(e.data))}})});x.propTypes={surveyData:u.a.object.isRequired};var q=x,D=Object(o.b)((function(e){return{surveyData:e.surveys.surveys}}),(function(){return{}}))(q),I=a.p+"images/103b5fa18196d5665a7e12318285c916.svg",G=(a(71),function(){return n.a.createElement("div",null,n.a.createElement("img",{src:I,alt:"react logo"}),n.a.createElement("h1",null,"ODYSSEA QUIZ"),n.a.createElement(D,null))}),F=a.p+"images/8359ca87f798c912d03fd5da58b6fa5b.jpg",H=(a(72),function(){return n.a.createElement("div",{className:"page__categories"},n.a.createElement("ul",{className:"categories__ul"},n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("img",{src:F})),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("img",{src:F})),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("img",{src:F})),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("img",{src:F})),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("img",{src:F})),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("img",{src:F})),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("img",{src:F})),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("img",{src:F})),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("img",{src:F}))))}),U=(a(73),function(){return n.a.createElement("div",null,n.a.createElement("ul",{className:"categories__ul"},n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% "))))}),V=(a(74),function(e){var t=e.surveyLoading,a=e.getSurveys,i=e.checkIsLogged;return Object(r.useEffect)((function(){a()}),[]),Object(r.useEffect)(i,[]),n.a.createElement("div",{className:"app"},n.a.createElement(g,null),n.a.createElement(w,null),n.a.createElement(m.a,{exact:!0,path:"/register"},n.a.createElement(j,null,n.a.createElement(T,null))),!t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{exact:!0,path:"/"},n.a.createElement(j,null,n.a.createElement(G,null)))),n.a.createElement(m.a,{exact:!0,path:"/categories"},n.a.createElement(j,null,n.a.createElement(H,null))),n.a.createElement(m.a,{exact:!0,path:"/profile"},n.a.createElement(j,null,n.a.createElement(U,null))),n.a.createElement(C,null))});V.propTypes={getSurveys:u.a.func.isRequired,checkIsLogged:u.a.func.isRequired,surveyLoading:u.a.bool.isRequired};var M=V,Y=Object(o.b)((function(e){return{surveyLoading:e.surveys.surveyLoading}}),(function(e){return{getSurveys:function(){return e({type:"GET_SURVEYS"})},checkIsLogged:function(){return e({type:"CHECK_IS_LOGGED"})}}}))(M),K=a(12);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){B(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Q={open:!1,username:"",pseudo:"",roles:[],password:"",isLogged:!1},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"HANDLE_TOGGLER_CLICK":return J(J({},e),{},{open:!e.open});case"CHANGE_FIELD_VALUE":return J(J({},e),{},B({},t.key,t.value));case"SAVE_USER":return J(J({},e),{},{email:"",password:"",isLogged:!0,pseudo:t.pseudo,roles:t.roles});case"LOGOUT":return J(J({},e),{},{isLogged:!1,pseudo:"",roles:""});default:return e}};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){$(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ee={surveys:[],surveyLoading:!0};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){re(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ne={email:"",password:"",lastName:"",firstName:"",pseudo:"",environment:2},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_FIELD":return ae(ae({},e),{},re({},t.name,t.value));default:return e}},oe=Object(K.c)({headerLogin:W,register:ie,surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_SURVEYS":return Z(Z({},e),{},{surveys:t.surveys,surveyLoading:!1});default:return e}}}),le=function(e){return function(t){return function(a){console.log(e.getState()),console.log("Je laisse passer cette action: ",a),t(a)}}},se=a(13),ce=a.n(se),ue={title:"American History",showProgressBar:"bottom",showTimerPanel:"top",maxTimeToFinishPage:10,maxTimeToFinish:25,firstPageIsStarted:!0,startSurveyText:"Start Quiz",pages:[{questions:[{type:"html",html:"You are about to start quiz by history. <br/>You have 10 seconds for every page and 25 seconds for the whole survey of 3 questions.<br/>Please click on <b>'Start Quiz'</b> button when you are ready."}]},{questions:[{type:"radiogroup",name:"civilwar",title:"When was the Civil War?",choices:["1750-1800","1800-1850","1850-1900","1900-1950","after 1950"],correctAnswer:"1850-1900"}]},{questions:[{type:"radiogroup",name:"libertyordeath",title:"Who said 'Give me liberty or give me death?",choicesOrder:"random",choices:["John Hancock","James Madison","Patrick Henry","Samuel Adams"],correctAnswer:"Patrick Henry"}]},{maxTimeToFinish:15,questions:[{type:"radiogroup",name:"magnacarta",title:"What is the Magna Carta?",choicesOrder:"random",choices:["The foundation of the British parliamentary system","The Great Seal of the monarchs of England","The French Declaration of the Rights of Man","The charter signed by the Pilgrims on the Mayflower"],correctAnswer:"The foundation of the British parliamentary system"}]}],completedHtml:"<h4>You have answered correctly <b>{correctedAnswers}</b> questions from <b>{questionCount}</b>.</h4>"},me=[function(e){return function(t){return function(a){switch(a.type){case"GET_SURVEYS":e.dispatch(function(e){return{type:"SAVE_SURVEYS",surveys:e}}(ue));break;default:t(a)}}}},le,function(e){return function(t){return function(a){switch(a.type){case"LOGIN":var r=e.getState().headerLogin,n=r.username,i=r.password;ce.a.post("/api/login",{username:n,password:i}).then((function(t){console.log(t);var a=t.data,r=a.token,n=a.pseudo,i=a.roles;window.sessionStorage.setItem("token",r),e.dispatch(s(n,i))})).catch((function(e){console.log(e)})),t(a);break;case"CHECK_IS_LOGGED":ce.a.get("/api/islogged",{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(t){if(console.log("CHECK_IS_LOGGED",t),!1===t.data.logged)console.log("pas logé recommence");else{var a=t.data[0],r=a.pseudo,n=a.roles;e.dispatch(s(r,n))}})).catch((function(e){console.log(e),window.sessionStorage.removeItem("token")})),t(a);break;case"LOGOUT":ce.a.post("/api/logout",{}).then((function(){window.sessionStorage.removeItem("token"),t(a)})).catch((function(e){return console.log(e)}));break;default:t(a)}}}},function(e){return function(t){return function(a){switch(a.type){case"REGISTER":var r=e.getState().register,n=r.email,i=r.password,o=r.lastName,l=r.firstName,s=r.pseudo,c=r.environment;ce.a.post("/api/register",{email:n,password:i,lastName:o,firstName:l,pseudo:s,environment:c},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),t(a);break;default:t(a)}}}}];function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var de,pe=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.d)(K.a.apply(void 0,function(e){if(Array.isArray(e))return ge(e)}(de=me)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(de)||function(e,t){if(e){if("string"==typeof e)return ge(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ge(e,t):void 0}}(de)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),fe=Object(K.e)(oe,pe),Ee=n.a.createElement(o.a,{store:fe},n.a.createElement(l.a,null,n.a.createElement(Y,null))),ve=document.getElementById("root");Object(i.render)(Ee,ve)}},[[37,1,2]]]);