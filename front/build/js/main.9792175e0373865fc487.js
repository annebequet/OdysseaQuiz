(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),i=n(4),s=n(9),c=function(e,t,n,r,a){return{type:"SAVE_USER",pseudo:e,roles:t,avatar:n,id:r,isLogged:a}},l=n(1),u=n.n(l),m=n(5),d=(n(63),function(){return a.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,style:{position:"fixed",width:"100%",height:"100%",left:"0",top:"0",objectFit:"cover",zIndex:"-1"}},a.a.createElement("source",{src:"https://dm0qx8t0i9gc9.cloudfront.net/watermarks/video/rytughwRxj1s1gmp3/videoblocks-underwater-landscape-of-coral-reef-amazing-underwater-marine-life-world-scuba-diving-and-snorkeling_baj3ircnz__d3d6d16680620376fe9c58e37c21cfb7__P360.mp4",type:"video/mp4"}))}),p=n(48),f=n.p+"images/094cde893dffdca893944fca4515a73c.png",g=(n(79),function(e){var t=e.label,n=e.type,r=e.id,o=e.value,i=e.setValue;return a.a.createElement("div",{className:"field"},a.a.createElement("label",{htmlFor:r,className:"field__label"},t),a.a.createElement("input",{className:"field__input",id:r,type:n,placeholder:t,value:o,onChange:function(e){i(e.target.value)}}))});g.propTypes={label:u.a.string.isRequired,type:u.a.string,id:u.a.string.isRequired,value:u.a.string.isRequired,setValue:u.a.func.isRequired},g.defaultProps={type:"text"};var v=g,E=Object(i.b)((function(e,t){return{value:e.headerLogin[t.id]}}),(function(e,t){return{setValue:function(n){e(function(e,t){return{type:"CHANGE_FIELD_VALUE",key:e,value:t}}(t.id,n))}}}))(v),y=n(117),h=n(116);n(80),n(29);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=e.login,n=b(Object(r.useState)(!1),2),o=n[0],i=n[1],s=function(){return i(!1)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{variant:"primary",onClick:function(){return i(!0)}},"Se Connecter"),a.a.createElement(h.a,{show:o,onHide:s,centered:!0},a.a.createElement(h.a.Header,{closeButton:!0},a.a.createElement(h.a.Title,null,"Entrez vos identifiants!")),a.a.createElement(h.a.Body,null,a.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),t()}},a.a.createElement(E,{label:"Adresse Email",id:"username",type:"username"}),a.a.createElement(E,{label:"Mot de passe",id:"password",type:"password"}),a.a.createElement(y.a,{className:"login__submit",type:"submit",variant:"primary",onClick:s},"Se Connecter"))),a.a.createElement(h.a.Footer,null,a.a.createElement(y.a,{variant:"secondary",onClick:s},"Close"))))};w.propTypes={login:u.a.func.isRequired};var O=w,N=Object(i.b)((function(e){return{open:e.headerLogin.open}}),(function(e){return{handleTogglerClick:function(){e({type:"HANDLE_TOGGLER_CLICK"})},onBlurLogin:function(){e({type:"ON_BLUR_LOGIN"})},login:function(){e({type:"LOGIN"})}}}))(O),S=n(26),C=n.n(S),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/[&]/g,"").replace(/[_]/g,"-"),n=C()(t,{lower:!0,remove:/[*+~.()'"!:@&]/g});return n},R=function(e){var t=e.handleLogout,n=e.pseudo;return a.a.createElement("div",{className:"header__nav__logged"},a.a.createElement("nav",{className:"menu--logged"},a.a.createElement(s.c,{to:"/profile/".concat(j(n)),className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Profil"),a.a.createElement("a",{className:"menu__item menu__item--logout",onClick:t},"Logout")))};R.propTypes={handleLogout:u.a.func.isRequired,pseudo:u.a.string.isRequired};var A=R,T=Object(i.b)((function(e){return{pseudo:e.headerLogin.pseudo}}),(function(e){return{handleLogout:function(){console.log("je veux me déconnecter"),e({type:"LOGOUT"})}}}))(A),P=function(){return a.a.createElement("div",{className:"header__nav__register"},a.a.createElement(s.c,{to:"/register",activeClassName:"menu__link--active",exact:!0},"S'enregistrer"))},I=function(e){var t=e.roles,n=e.isLogged,r=e.loginAdmin,o=function(){r()};return a.a.createElement("div",{className:"header"},a.a.createElement("nav",{className:"menu--desktop"},a.a.createElement(s.c,{to:"/",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Accueil"),a.a.createElement(s.c,{to:"/categories",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Catégories"),-1!==t.indexOf("ROLE_ADMIN")&&a.a.createElement("a",{href:"http://54.226.34.31/admin/login",className:"menu__item",onClick:o},"admin")),a.a.createElement("nav",{className:"menu--burger"},a.a.createElement(p.bubble,{disableAutoFocus:!0},a.a.createElement(s.c,{to:"/",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Accueil"),a.a.createElement(s.c,{to:"/categories",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Catégories"),-1!==t.indexOf("ROLE_ADMIN")&&a.a.createElement("a",{href:"http://54.226.34.31/admin/login",className:"menu__item",onClick:o},"Admin"),a.a.createElement(s.c,{to:"/contact",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Contact"),a.a.createElement(s.c,{to:"/faq",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"FAQ"),a.a.createElement("img",{className:"logo",alt:"whale-logo",src:f}))),!n&&a.a.createElement("div",{className:"header__nav__form"},a.a.createElement(P,null),a.a.createElement(N,null)),n&&a.a.createElement(T,null))};I.propTypes={roles:u.a.array.isRequired,isLogged:u.a.bool.isRequired,loginAdmin:u.a.func.isRequired};var L=I,q=Object(i.b)((function(e){return{roles:e.headerLogin.roles,isLogged:e.headerLogin.isLogged}}),(function(e){return{loginAdmin:function(){e({type:"LOGIN_ADMIN"})}}}))(L),D=(n(83),function(){return a.a.createElement("div",{className:"footer"},"Footer")}),k=(n(84),function(e){var t=e.children;return a.a.createElement("main",{className:"page"},a.a.createElement("div",{className:"page__content"},t))});k.propTypes={children:u.a.node.isRequired};var x=k,U=(n(85),function(e){var t=e.value,n=e.type,r=e.name,o=e.label,i=e.onChange,s="register-field-".concat(r);return a.a.createElement("div",{className:t.length>0?"field field--has-content":"field"},a.a.createElement("label",{htmlFor:s,className:"register-field-label"},o),a.a.createElement("input",{value:t,onChange:function(e){i(e.target.value,r)},id:s,type:n,className:"register-field-input",placeholder:o,name:r}))});U.propTypes={value:u.a.string,type:u.a.string,name:u.a.string.isRequired,label:u.a.string.isRequired,onChange:u.a.func.isRequired},U.defaultProps={value:"",type:"text"};var z=U,G=(n(86),function(e){var t=e.value,n=(e.type,e.name),r=e.label,o=e.onChange,i=function(e){o(e.target.value,n)},s="register-field-".concat(n);return a.a.createElement("div",{className:t.length>0?"field field--has-content":"field"},a.a.createElement("label",{htmlFor:s,className:"register-field-label"},r),a.a.createElement("input",{value:"1",onChange:i,id:"radio1",type:"radio",className:"register-field-input",placeholder:r,name:n}),a.a.createElement("input",{value:"2",onChange:i,id:"radio2",type:"radio",className:"register-field-input",placeholder:r,name:n}))});G.propTypes={value:u.a.string.isRequired,type:u.a.string,name:u.a.string.isRequired,label:u.a.string.isRequired,onChange:u.a.func.isRequired},G.defaultProps={type:"radio"};var H=G,Q=(n(87),function(e){var t=e.email,n=e.password,r=e.lastName,o=e.firstName,i=e.pseudo,s=e.avatar,c=e.environment,l=e.changeField,u=e.handleRegister,m=e.isRegistered;return a.a.createElement("div",{className:"register"},!m&&a.a.createElement("form",{className:"register__form",onSubmit:function(e){e.preventDefault(),u()}},a.a.createElement(z,{label:"Adresse Email",id:"username",name:"email",type:"email",onChange:l,value:t}),a.a.createElement(z,{name:"password",type:"password",label:"Mot de passe",id:"password",onChange:l,value:n}),a.a.createElement(z,{name:"lastName",type:"lastName",label:"Nom",id:"lastName",onChange:l,value:r}),a.a.createElement(z,{name:"firstName",type:"firstName",label:"Prénom",id:"lastName",onChange:l,value:o}),a.a.createElement(z,{name:"pseudo",type:"pseudo",label:"Pseudo",id:"pseudo",onChange:l,value:i}),a.a.createElement(z,{name:"avatar",type:"avatar",label:"Avatar",id:"avatar",onChange:l,value:s}),a.a.createElement(H,{name:"environment",type:"radio",label:"environment",id:"environment",onChange:l,value:c}),a.a.createElement("button",{type:"submit",className:"register-form-button"},"S'inscrire")),m&&a.a.createElement("div",null,"Bravo pour votre inscription, vous pouvez maintenant vous connecter et commencer à jouer dans le grand bain !"))});Q.propTypes={lastName:u.a.string,firstName:u.a.string,pseudo:u.a.string.isRequired,email:u.a.string.isRequired,password:u.a.string.isRequired,avatar:u.a.string,changeField:u.a.func.isRequired,handleRegister:u.a.func.isRequired,environment:u.a.string.isRequired,isRegistered:u.a.bool.isRequired},Q.defaultProps={lastName:"",firstName:"",avatar:""};var M=Q,V=Object(i.b)((function(e){return{email:e.register.email,password:e.register.password,lastName:e.register.lastName,firstName:e.register.firstName,pseudo:e.register.pseudo,avatar:e.register.avatar,environment:e.register.environment,isRegistered:e.register.isRegistered}}),(function(e){return{handleRegister:function(){e({type:"REGISTER"})},changeField:function(t,n){e(function(e,t){return{type:"CHANGE_FIELD",name:t,value:e}}(t,n))}}}))(M);function F(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=function(e){return function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}(e)},B=function(e){return 0===e.length?"Nous n'avons pas encore de questions pour cette catégorie, revenez bientôt !":"Vous êtes sur le point de commencer notre super quiz. <br/>Vous avez 10 secondes par page et 25 secondes en total pour ce quiz de 10 questions.<br/>Cliquez sur le bouton <b>'Commencer'</b> quand vous êtes prêts. Enjoy !"},Y=n(34),W=(n(88),n(89),function(e){var t=e.surveyData,n=e.isCompleted,o=e.surveyAnswers,i=e.sendResults,s=e.endQuiz,c=e.grade;Object(r.useEffect)((function(){s()}),[]);var l;return a.a.createElement("div",{className:"survey"},!n&&a.a.createElement(Y.Survey,{json:t,showCompletedPage:!1,onComplete:function(e){var t=e.data,n=e.getCorrectedAnswerCount();i(t,n)}}),n&&a.a.createElement("div",{className:"results"},a.a.createElement(Y.Survey,{title:(l=c,function(e){var t="Vous avez ".concat(e," bonne réponse sur 10"),n="Vous avez ".concat(e," bonnes réponses sur 10");return e<2?t:n}(l)),json:t,data:o,showCompletedPage:!1,mode:"display",questionsOnPageMode:"singlePage",showProgressBar:"off",showTimerPanel:"none",maxTimeToFinishPage:0,maxTimeToFinish:0,onAfterRenderQuestion:function(e,t){!function(e,t){var n=document.createElement("span"),r=t.question.isAnswerCorrect();n.innerHTML=r?"Correct":"Incorrect",n.style.color=r?"green":"red";var a=t.htmlElement.querySelector("h5");r||(a.style.backgroundColor="salmon",t.htmlElement.querySelector('input[value="'.concat(t.question.correctAnswer,'"]')).parentElement.style.color="green");a.appendChild(n)}(0,t)}}),a.a.createElement("input",{className:"endQuiz",type:"button",value:"fin",onClick:s})))});W.propTypes={surveyData:u.a.object.isRequired,isCompleted:u.a.bool.isRequired,sendResults:u.a.func.isRequired,endQuiz:u.a.func.isRequired,surveyAnswers:u.a.object.isRequired,grade:u.a.number.isRequired};var J=W,$=Object(i.b)((function(e,t){var n=t.survey?t.survey:e.surveys.surveys,r=t.category?t.category:e.surveys.surveyTitle,a=t.isChildQuiz?e.surveys.isChildQuizCompleted:e.surveys.isCompleted;return{surveyData:function(e,t){var n=X(e),r=n.map((function(e){return{questions:[e]}}));return{title:t,showProgressBar:"bottom",showTimerPanel:"top",maxTimeToFinishPage:10,maxTimeToFinish:25,firstPageIsStarted:!0,startSurveyText:"Commencer",locale:"fr",pages:[{questions:[{type:"html",html:B(n)}]}].concat(F(r)),completedHtml:"<h4>You have answered correctly <b>{correctedAnswers}</b> questions from <b>{questionCount}</b>.</h4>"}}(n,r),isCompleted:a,surveyAnswers:e.surveys.surveyAnswers,grade:e.surveys.points}}),(function(e,t){return{sendResults:function(n,r){e(function(e,t,n,r){return{type:"SEND_RESULTS",answers:e,numberOfCorrectAnswers:t,isExempleQuiz:n,isChildQuiz:r}}(n,r,t.isExempleQuiz,t.isChildQuiz))},endQuiz:function(){return e({type:"END_QUIZ"})}}}))(J),Z=(n(90),function(e){var t=e.adultExempleSurvey,n=e.childrenExempleSurvey;return a.a.createElement("div",null,a.a.createElement("h1",null,"ODYSSEA QUIZ"),a.a.createElement("div",{className:"exempleSurveys"},a.a.createElement($,{survey:t,category:"Exemple adulte",isExempleQuiz:!0,isChildQuiz:!1}),a.a.createElement($,{survey:n,category:"Exemple enfant",isExempleQuiz:!0,isChildQuiz:!0})))});Z.propTypes={adultExempleSurvey:u.a.array.isRequired,childrenExempleSurvey:u.a.array.isRequired};var ee=Z,te=Object(i.b)((function(e){return{adultExempleSurvey:e.surveys.exempleSurveys.adultExempleSurvey,childrenExempleSurvey:e.surveys.exempleSurveys.childrenExempleSurvey}}),{})(ee),ne=n.p+"images/8359ca87f798c912d03fd5da58b6fa5b.jpg",re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/[&]/g,"").replace(/[_]/g,"-"),n=C()(t,{lower:!0,remove:/[*+~.()'"!:@&]/g});return n},ae=(n(91),function(e){var t=e.categories;return a.a.createElement("div",{className:"page__categories"},a.a.createElement("ul",{className:"categories__ul"},t.map((function(e){var t=e.name;return a.a.createElement(s.b,{to:"/categories/".concat(re(t)),className:"category_link",key:t},a.a.createElement("li",{className:"categories__item"},a.a.createElement("h3",null,t," "),a.a.createElement("img",{className:"category__img",alt:"turtle",src:ne})))}))))});ae.propTypes={categories:u.a.arrayOf(u.a.shape({name:u.a.string})).isRequired};var oe=ae,ie=Object(i.b)((function(e){return{categories:e.categories.categories,isLogged:e.headerLogin.isLogged}}),(function(){return{}}))(oe),se=(n(92),function(e){var t=e.surveyLoading,n=e.category,o=e.getSurveys,i=e.isLogged;return Object(r.useEffect)((function(){o(n)}),[]),a.a.createElement("div",{className:"category"},!t&&i&&a.a.createElement($,null),!i&&a.a.createElement("div",null,"Il faut être connecté pour s'inscrire ! Sautez dans l'eau !"))});se.propTypes={category:u.a.shape({id:u.a.number.isRequired,name:u.a.string.isRequired}),getSurveys:u.a.func.isRequired,surveyLoading:u.a.bool.isRequired,isLogged:u.a.bool.isRequired},se.defaultProps={category:{}};var ce=se,le=Object(i.b)((function(e,t){var n,r,a=(n=e.categories.categories,r=t.slug,n.find((function(e){return re(e.name)===r})));return{isLogged:e.headerLogin.isLogged,surveyLoading:e.surveys.surveyLoading,category:a}}),(function(e){return{getSurveys:function(t){e({type:"GET_SURVEYS",category:t})}}}))(ce),ue=(n(93),function(e){var t=e.value,n=e.type,r=e.name,o=e.placeholder,i=e.onChange,s="field-".concat(r);return a.a.createElement("div",{className:t.length>0?"field field--has-content":"field"},a.a.createElement("input",{value:t,onChange:function(e){i(e.target.value,r)},id:s,type:n,placeholder:o,name:r}))});ue.propTypes={value:u.a.string,type:u.a.string,name:u.a.string.isRequired,placeholder:u.a.string.isRequired,onChange:u.a.func.isRequired},ue.defaultProps={value:"",type:"text"};var me=ue,de=function(e){var t=e.value,n=(e.type,e.name),r=e.label,o=e.onChange,i=function(e){o(e.target.value,n)},s="register-field-".concat(n);return a.a.createElement("div",{className:t.length>0?"field field--has-content":"field"},a.a.createElement("label",{htmlFor:s,className:"register-field-label"},r),a.a.createElement("input",{value:"1",onChange:i,id:"radio1",type:"radio",className:"register-field-input",placeholder:r,name:n}),a.a.createElement("input",{value:"2",onChange:i,id:"radio2",type:"radio",className:"register-field-input",placeholder:r,name:n}))};de.propTypes={value:u.a.string.isRequired,type:u.a.string,name:u.a.string.isRequired,label:u.a.string.isRequired,onChange:u.a.func.isRequired},de.defaultProps={type:"radio"};var pe=de,fe=function(e){var t=e.pseudo,n=e.avatar,o=e.getUser,i=(e.categories,e.handleEditPseudo),s=e.handleEditEmail,c=e.handleEditPassword,l=e.handleEditEnvironment,u=e.changeInput,m=e.newPseudo,d=e.newEmail,p=e.newPassword,f=e.newEnvironment,g=e.handleDelete;Object(r.useEffect)((function(){o()}),[]);return a.a.createElement("div",{className:"profile"},a.a.createElement("div",{className:"profile__edit"},a.a.createElement("div",{className:"profile__wrap__left"},a.a.createElement("img",{className:"profile__odyssea__avatar",alt:"odyssea__avatar",src:n.imageUrl}),a.a.createElement("h3",{className:"profile__pseudo"},"Pseudo : ",t)),a.a.createElement("div",{className:"profile__wrap__right"},a.a.createElement("form",{className:"profile__edit__form --pseudo",onSubmit:function(e){e.preventDefault(),i()}},a.a.createElement("div",null,a.a.createElement("label",null,"Changez votre pseudo")),a.a.createElement(me,{name:"newPseudo",placeholder:"nouveau pseudo",onChange:u,value:m}),a.a.createElement("button",{className:"profile__edit--submit",type:"submit"},"Envoyez vos modifications")),a.a.createElement("form",{className:"profile__edit__form --email",onSubmit:function(e){e.preventDefault(),s()}},a.a.createElement("div",null,a.a.createElement("label",null,"Changez votre adresse e-mail")),a.a.createElement(me,{name:"newEmail",placeholder:"nouvel e-mail",onChange:u,value:d}),a.a.createElement("button",{className:"profile__edit--submit",type:"submit"},"Envoyez vos modifications")),a.a.createElement("form",{className:"profile__edit__form --password",onSubmit:function(e){e.preventDefault(),c()}},a.a.createElement("div",null,a.a.createElement("label",null,"Changez votre Mot de passe")),a.a.createElement(me,{name:"newPassword",placeholder:"nouveau mot de passe",onChange:u,value:p}),a.a.createElement("button",{className:"profile__edit--submit",type:"submit"},"Envoyez vos modifications")),a.a.createElement("form",{className:"profile__edit__form --environment",onSubmit:function(e){e.preventDefault(),l()}},a.a.createElement("div",null,a.a.createElement("label",null,"Changez votre difficulté de jeu!")),a.a.createElement(pe,{name:"newEnvironment",label:"environment",id:"environment",onChange:u,value:f}),a.a.createElement("button",{className:"profile__edit--submit",type:"submit"},"Envoyez vos modifications")))),a.a.createElement("div",{className:"profile--delete"},a.a.createElement("button",{className:"profile__button--delete",type:"button",onClick:function(e){e.preventDefault(),g()}},"Supprimer mon compte")))};fe.propTypes={getUser:u.a.func.isRequired,categories:u.a.arrayOf(u.a.shape({name:u.a.string})).isRequired,avatar:u.a.object,pseudo:u.a.string.isRequired,handleEditPseudo:u.a.func.isRequired,handleEditEmail:u.a.func.isRequired,handleEditPassword:u.a.func.isRequired,handleEditEnvironment:u.a.func.isRequired,handleDelete:u.a.func.isRequired,changeInput:u.a.func.isRequired,newPseudo:u.a.string.isRequired,newEmail:u.a.string.isRequired,newPassword:u.a.string.isRequired,newEnvironment:u.a.string.isRequired},fe.defaultProps={avatar:{}};var ge=fe,ve=Object(i.b)((function(e){return{categories:e.categories.categories,pseudo:e.headerLogin.pseudo,avatar:e.headerLogin.avatar,newEmail:e.profile.newEmail,newPseudo:e.profile.newPseudo,newPassword:e.profile.newPassword,newEnvironment:e.profile.newEnvironment}}),(function(e){return{handleEditPseudo:function(){e({type:"HANDLE_EDIT_PSEUDO"})},handleEditEmail:function(){e({type:"HANDLE_EDIT_EMAIL"})},handleEditPassword:function(){e({type:"HANDLE_EDIT_PASSWORD"})},handleEditEnvironment:function(){e({type:"HANDLE_EDIT_ENVIRONMENT"})},changeInput:function(t,n){e(function(e,t){return{type:"CHANGE_INPUT",name:t,value:e}}(t,n))},handleDelete:function(){e({type:"HANDLE_DELETE"})},getUser:function(){e({type:"GET_USER"})}}}))(ge),Ee=n.p+"images/280bbbda3d468943b5c7d7d0d2ce68f3.jpg";n(94);function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var be=function(){var e=ye(Object(r.useState)(!1),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){return n(!0)}),2e3);return function(){clearTimeout(e)}}),[]),t&&a.a.createElement("div",{className:"error404"},a.a.createElement("h2",{className:"error404__title"},"Error404..."),a.a.createElement("p",null,"Aucune page correspondante à votre recherche! Retournez dans l'eau!"),a.a.createElement("img",{alt:"sad-shark",className:"error404__img",src:Ee}))},_e=(n(95),function(e){var t=e.checkIsLogged,n=e.getCategories,o=e.categoriesLoading;return Object(r.useEffect)(t,[]),Object(r.useEffect)((function(){n()}),[]),a.a.createElement("div",{className:"app"},a.a.createElement(d,null),a.a.createElement(q,null),a.a.createElement(m.c,null,!o&&a.a.createElement(m.a,{exact:!0,path:"/categories"},a.a.createElement(x,null,a.a.createElement(ie,null))),!o&&a.a.createElement(m.a,{exact:!0,path:"/categories/:slug",component:function(e){var t=e.match;return a.a.createElement(x,null,a.a.createElement(le,{slug:t.params.slug}))}}),a.a.createElement(m.a,{exact:!0,path:"/register"},a.a.createElement(x,null,a.a.createElement(V,null))),a.a.createElement(m.a,{exact:!0,path:"/"},a.a.createElement(x,null,a.a.createElement(te,null))),a.a.createElement(m.a,{exact:!0,path:"/profile/:slug",component:function(e){var t=e.match;return a.a.createElement(x,null,a.a.createElement(ve,{slug:t.params.slug}))}}),a.a.createElement(m.a,{path:"*"},a.a.createElement(x,null,a.a.createElement(be,null)))),a.a.createElement(D,null))});_e.propTypes={checkIsLogged:u.a.func.isRequired,getCategories:u.a.func.isRequired,categoriesLoading:u.a.bool.isRequired};var we=_e,Oe=Object(i.b)((function(e){return{categoriesLoading:e.categories.categoriesLoading,isLogged:e.headerLogin.isLogged}}),(function(e){return{checkIsLogged:function(){return e({type:"CHECK_IS_LOGGED"})},getCategories:function(){return e({type:"GET_CATEGORIES"})}}}))(we),Ne=n(19);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re={open:!1,username:"",pseudo:"",roles:[],password:"",isLogged:!1,avatar:{},id:""},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"HANDLE_TOGGLER_CLICK":case"ON_BLUR_LOGIN":return Ce(Ce({},e),{},{open:!e.open});case"CHANGE_FIELD_VALUE":return Ce(Ce({},e),{},je({},t.key,t.value));case"SAVE_USER":return Ce(Ce({},e),{},{email:"",password:"",isLogged:!0,pseudo:t.pseudo,roles:t.roles,avatar:t.avatar,id:t.id});case"LOGOUT":return Ce(Ce({},e),{},{isLogged:!1,pseudo:"",roles:"",avatar:""});default:return e}},Te=[{type:"radiogroup",name:"civilwar",title:"When was the Civil War?",choices:["1750-1800","1800-1850","1850-1900","1900-1950","after 1950"],correctAnswer:"1850-1900"},{type:"radiogroup",name:"libertyordeath",title:"Who said 'Give me liberty or give me death?",choicesOrder:"random",choices:["John Hancock","James Madison","Patrick Henry","Samuel Adams"],correctAnswer:"Patrick Henry"},{type:"radiogroup",name:"magnacarta",title:"What is the Magna Carta?",choicesOrder:"random",choices:["The foundation of the British parliamentary system","The Great Seal of the monarchs of England","The French Declaration of the Rights of Man","The charter signed by the Pilgrims on the Mayflower"],correctAnswer:"The foundation of the British parliamentary system"}];function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe={exempleSurveys:{adultExempleSurvey:Te,childrenExempleSurvey:Te},surveyCategory:"",surveyTitle:"",surveys:{},surveyLoading:!0,isCompleted:!1,isChildQuiz:!1,isChildQuizCompleted:!1,surveyAnswers:{},points:0};function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue={email:"",password:"",lastName:"",firstName:"",pseudo:"",environment:"",isRegistered:!1},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_FIELD":return ke(ke({},e),{},xe({},t.name,t.value));case"REGISTER":return ke(ke({},e),{},{isRegistered:!0});default:return e}};function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me={categories:[],categoriesLoading:!0},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_CATEGORIES":return He(He({},e),{},{categories:t.categories,categoriesLoading:!1});default:return e}};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be={newEmail:"",newPassword:"",newPseudo:"",newEnvironment:""},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_INPUT":return Ke(Ke({},e),{},Xe({},t.name,t.value));default:return e}},We=Object(Ne.c)({headerLogin:Ae,register:ze,surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_SURVEYS":return Ie(Ie({},e),{},{surveys:t.surveys,surveyLoading:!1});case"SEND_RESULTS":return Ie(Ie({},e),{},{isCompleted:!t.isChildQuiz,isChildQuizCompleted:t.isChildQuiz,surveyAnswers:t.answers,points:t.numberOfCorrectAnswers});case"GET_SURVEYS":return Ie(Ie({},e),{},{surveyCategory:t.category,surveyTitle:t.category.name});case"END_QUIZ":return Ie(Ie({},e),{},{isCompleted:!1,surveyAnswers:{},points:0});default:return e}},categories:Ve,profile:Ye}),Je=function(e){return function(t){return function(n){console.log(e.getState()),console.log("Je laisse passer cette action: ",n),t(n)}}},$e=n(6),Ze=n.n($e),et=[function(e){return function(t){return function(n){switch(n.type){case"GET_SURVEYS":var r=n.category.id,a=sessionStorage.getItem("environment");Ze.a.get("http://54.226.34.31/questions/".concat(a,"/").concat(r),{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(t){console.log("response",t),e.dispatch(function(e){return{type:"SAVE_SURVEYS",surveys:e}}(t.data))})).catch((function(e){console.log(e)})),t(n);break;case"SEND_RESULTS":if(!n.isExempleQuiz){var o=e.getState(),i=sessionStorage.getItem("environment"),s=o.surveys.surveyCategory.id,c=sessionStorage.getItem("id"),l=n.numberOfCorrectAnswers;Ze.a.post("http://54.226.34.31/score",{environment:i,category:s,user:c,points:l},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}t(n);break;default:t(n)}}}},Je,function(e){return function(t){return function(n){switch(n.type){case"LOGIN":var r=e.getState().headerLogin,a=r.username,o=r.password;Ze.a.post("http://54.226.34.31/login",{username:a,password:o}).then((function(t){console.log(t);var n=t.data,r=n.token,a=n.pseudo,o=n.roles,i=n.avatar,s=n.id,l=n.environmentId;window.sessionStorage.setItem("token",r),window.sessionStorage.setItem("id",s),window.sessionStorage.setItem("environment",l),e.dispatch(c(a,o,i,s))})).catch((function(e){console.log(e)})),t(n);break;case"CHECK_IS_LOGGED":Ze.a.get("http://54.226.34.31/api/islogged",{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(t){if(console.log("CHECK_IS_LOGGED",t),!1===t.data.logged)console.log("pas logé recommence");else{var n=sessionStorage.getItem("id"),r=t.data[0],a=r.pseudo,o=r.roles,i=r.avatar;e.dispatch(c(a,o,i,n))}})).catch((function(e){console.log(e),window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("id"),window.sessionStorage.removeItem("environment")})),t(n);break;case"LOGOUT":Ze.a.get("http://54.226.34.31/api/logout",{}).then((function(){window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("id"),window.sessionStorage.removeItem("environment"),window.location.replace("/"),t(n)})).catch((function(e){return console.log(e)}));break;default:t(n)}}}},function(e){return function(t){return function(n){switch(n.type){case"REGISTER":var r=e.getState().register,a=r.email,o=r.password,i=r.lastName,s=r.firstName,c=r.pseudo,l=r.environment;Ze.a.post("http://54.226.34.31/register",{email:a,password:o,lastName:i,firstName:s,pseudo:c,environment:l}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),t(n);break;default:t(n)}}}},function(e){return function(t){return function(n){switch(n.type){case"GET_CATEGORIES":Ze.a.get("http://54.226.34.31/categories").then((function(t){console.log(t.data),e.dispatch(function(e){return{type:"SAVE_CATEGORIES",categories:e}}(t.data))})).catch((function(e){console.log(e)})),t(n);break;default:t(n)}}}},function(e){return function(t){return function(n){switch(n.type){case"HANDLE_EDIT_EMAIL":var r=e.getState().profile.newEmail,a=sessionStorage.getItem("id");Ze.a.put("http://54.226.34.31/users/".concat(a),{email:r},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),t(n);break;case"HANDLE_EDIT_PSEUDO":var o=e.getState().profile.newPseudo,i=sessionStorage.getItem("id");Ze.a.put("http://54.226.34.31/users/".concat(i),{pseudo:o},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),window.location.reload()})).catch((function(e){console.log(e)})),t(n);break;case"HANDLE_EDIT_PASSWORD":var s=e.getState().profile.newPassword,c=sessionStorage.getItem("id");Ze.a.put("http://54.226.34.31/users/".concat(c),{password:s},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),t(n);break;case"GET_USER":var l=sessionStorage.getItem("id");Ze.a.get("http://54.226.34.31/users/".concat(l),{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),t(n);break;case"HANDLE_EDIT_ENVIRONMENT":var u=e.getState().profile.newEnvironment,m=sessionStorage.getItem("id");Ze.a.put("http://54.226.34.31/users/".concat(m),{environment:u},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),window.location.reload()})).catch((function(e){console.log(e)})),t(n);break;case"HANDLE_DELETE":var d=sessionStorage.getItem("id");Ze.a.delete("http://54.226.34.31/users/".concat(d),{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),window.location.href="http://54.226.34.31/"})).catch((function(e){console.log(e)})),t(n);break;default:t(n)}}}},function(e){return function(e){return function(t){switch(t.type){case"LOGIN_ADMIN":Ze.a.get("http://54.226.34.31/admin/login",{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),e(t);break;default:e(t)}}}}];function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nt,rt=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ne.d)(Ne.a.apply(void 0,function(e){if(Array.isArray(e))return tt(e)}(nt=et)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(nt)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}(nt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),at=Object(Ne.e)(We,rt),ot=a.a.createElement(i.a,{store:at},a.a.createElement(s.a,null,a.a.createElement(Oe,null))),it=document.getElementById("root");Object(o.render)(ot,it)},29:function(e,t,n){},53:function(e,t,n){n(54),e.exports=n(113)},54:function(e,t,n){},63:function(e,t,n){},79:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){}},[[53,1,2]]]);