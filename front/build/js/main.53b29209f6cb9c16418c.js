(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){},37:function(e,t,a){a(38),e.exports=a(92)},38:function(e,t,a){},47:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(14),i=a(4),s=a(6),c=function(e,t,a){return{type:"SAVE_USER",pseudo:e,roles:t,isLogged:a}},l=a(1),u=a.n(l),m=a(3),g=(a(47),function(){return n.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,style:{position:"absolute",width:"100%",height:"100%",left:"0",top:"0",objectFit:"cover",zIndex:"-1"}},n.a.createElement("source",{src:"https://dm0qx8t0i9gc9.cloudfront.net/watermarks/video/rytughwRxj1s1gmp3/videoblocks-underwater-landscape-of-coral-reef-amazing-underwater-marine-life-world-scuba-diving-and-snorkeling_baj3ircnz__d3d6d16680620376fe9c58e37c21cfb7__P360.mp4",type:"video/mp4"}))}),p=a(36),d=(a(63),function(e){var t=e.label,a=e.type,r=e.id,o=e.value,i=e.setValue;return n.a.createElement("div",{className:"field"},n.a.createElement("label",{htmlFor:r,className:"field__label"},t),n.a.createElement("input",{className:"field__input",id:r,type:a,placeholder:t,value:o,onChange:function(e){i(e.target.value)}}))});d.propTypes={label:u.a.string.isRequired,type:u.a.string,id:u.a.string.isRequired,value:u.a.string.isRequired,setValue:u.a.func.isRequired},d.defaultProps={type:"text"};var f=d,v=Object(i.b)((function(e,t){return{value:e.headerLogin[t.id]}}),(function(e,t){return{setValue:function(a){e(function(e,t){return{type:"CHANGE_FIELD_VALUE",key:e,value:t}}(t.id,a))}}}))(f),E=(a(26),function(e){var t=e.open,a=e.handleTogglerClick,r=(e.onBlurLogin,e.login);return n.a.createElement("div",{className:"".concat(t?"login login--open":"login")},n.a.createElement("button",{onClick:function(){a()},className:"login__toggler",type:"button"},"Connexion"),n.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),r()}},n.a.createElement(v,{label:"Adresse Email",id:"username",type:"username"}),n.a.createElement(v,{label:"Mot de passe",id:"password",type:"password"}),n.a.createElement("button",{className:"login__submit",type:"submit"},"Se connecter")))});E.propTypes={handleTogglerClick:u.a.func.isRequired,onBlurLogin:u.a.func.isRequired,open:u.a.bool.isRequired,login:u.a.func.isRequired};var b=E,y=Object(i.b)((function(e){return{open:e.headerLogin.open}}),(function(e){return{handleTogglerClick:function(){e({type:"HANDLE_TOGGLER_CLICK"})},onBlurLogin:function(){e({type:"ON_BLUR_LOGIN"})},login:function(){e({type:"LOGIN"})}}}))(b),h=function(){return n.a.createElement("div",{className:"header__nav__register"},n.a.createElement(s.b,{to:"/register",activeClassName:"menu__link--active",exact:!0},"S'enregistrer"))},_=a.p+"images/094cde893dffdca893944fca4515a73c.png",O=function(e){var t=e.roles,a=e.isLogged;return n.a.createElement("div",{className:"header"},n.a.createElement("nav",{className:"menu--desktop"},n.a.createElement(s.b,{to:"/",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Accueil"),n.a.createElement(s.b,{to:"/categories",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Catégories"),-1!==t.indexOf("ROLE_ADMIN")&&n.a.createElement(s.b,{to:"/admin",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"admin")),n.a.createElement("nav",{className:"menu--burger"},n.a.createElement(p.bubble,{disableAutoFocus:!0},n.a.createElement(s.b,{to:"/",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Accueil"),n.a.createElement(s.b,{to:"/categories",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Catégories"),-1!==t.indexOf("ROLE_ADMIN")&&n.a.createElement(s.b,{to:"/admin",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Admin"),n.a.createElement(s.b,{to:"/contact",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Contact"),n.a.createElement(s.b,{to:"/faq",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"FAQ"),n.a.createElement("img",{className:"logo",alt:"whale-logo",src:_}))),!a&&n.a.createElement("div",{className:"header__nav__form"},n.a.createElement(h,null),n.a.createElement(y,null)))};O.propTypes={roles:u.a.array.isRequired,isLogged:u.a.bool.isRequired};var N=O,w=Object(i.b)((function(e){return{roles:e.headerLogin.roles,isLogged:e.headerLogin.isLogged}}),(function(){return{}}))(N),j=(a(65),function(){return n.a.createElement("div",{className:"footer"},"Footer")}),S=(a(66),function(e){var t=e.children;return n.a.createElement("main",{className:"page"},n.a.createElement("div",{className:"page__content"},t))});S.propTypes={children:u.a.node.isRequired};var C=S,P=(a(67),function(e){var t=e.value,a=e.type,r=e.name,o=e.label,i=e.onChange,s="register-field-".concat(r);return n.a.createElement("div",{className:t.length>0?"field field--has-content":"field"},n.a.createElement("label",{htmlFor:s,className:"register-field-label"},o),n.a.createElement("input",{value:t,onChange:function(e){i(e.target.value,r)},id:s,type:a,className:"register-field-input",placeholder:o,name:r}))});P.propTypes={value:u.a.string,type:u.a.string,name:u.a.string.isRequired,label:u.a.string.isRequired,onChange:u.a.func.isRequired},P.defaultProps={value:"",type:"text"};var L=P,R=(a(68),function(e){var t=e.email,a=e.password,r=e.lastName,o=e.firstName,i=e.pseudo,s=e.avatar,c=e.changeField,l=e.handleRegister;return n.a.createElement("div",{className:"register"},n.a.createElement("form",{className:"register__form",onSubmit:function(e){e.preventDefault(),l()}},n.a.createElement(L,{label:"Adresse Email",id:"username",name:"email",type:"email",onChange:c,value:t}),n.a.createElement(L,{name:"password",type:"password",label:"Mot de passe",id:"password",onChange:c,value:a}),n.a.createElement(L,{name:"lastName",type:"lastName",label:"Nom",id:"lastName",onChange:c,value:r}),n.a.createElement(L,{name:"firstName",type:"firstName",label:"Prénom",id:"lastName",onChange:c,value:o}),n.a.createElement(L,{name:"pseudo",type:"pseudo",label:"Pseudo",id:"pseudo",onChange:c,value:i}),n.a.createElement(L,{name:"avatar",type:"avatar",label:"Avatar",id:"avatar",onChange:c,value:s}),n.a.createElement("button",{type:"submit",className:"register-form-button"},"S'inscrire")))});R.propTypes={lastName:u.a.string,firstName:u.a.string,pseudo:u.a.string.isRequired,email:u.a.string.isRequired,password:u.a.string.isRequired,avatar:u.a.string,changeField:u.a.func.isRequired,handleRegister:u.a.func.isRequired},R.defaultProps={lastName:"",firstName:"",avatar:""};var T=R,k=Object(i.b)((function(e){return{email:e.register.email,password:e.register.password,lastName:e.register.lastName,firstName:e.register.firstName,pseudo:e.register.pseudo,avatar:e.register.avatar}}),(function(e){return{handleRegister:function(){e({type:"REGISTER"})},changeField:function(t,a){e(function(e,t){return{type:"CHANGE_FIELD",name:t,value:e}}(t,a))}}}))(T),A=a(17),I=(a(69),a(70),function(e){var t=e.surveyData;A.StylesManager.applyTheme("modern");var a=new A.Model(t);return n.a.createElement(A.Survey,{model:a,onComplete:function(e,t){console.log(JSON.stringify(e.data))}})});I.propTypes={surveyData:u.a.object.isRequired};var q=I,D=Object(i.b)((function(e){return{surveyData:e.surveys.surveys}}),(function(){return{}}))(q),x=a.p+"images/103b5fa18196d5665a7e12318285c916.svg",G=(a(71),function(){return n.a.createElement("div",null,n.a.createElement("img",{src:x,alt:"react logo"}),n.a.createElement("h1",null,"ODYSSEA QUIZ"),n.a.createElement(D,null))}),F=a.p+"images/8359ca87f798c912d03fd5da58b6fa5b.jpg",U=(a(72),function(e){var t=e.categories;return n.a.createElement("div",{className:"page__categories"},n.a.createElement("ul",{className:"categories__ul"},t.map((function(e){var t=e.name;return n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,t," "),n.a.createElement("img",{src:F}))}))))});U.propTypes={categories:u.a.arrayOf(u.a.shape({name:u.a.string.isRequired})).isRequired};var H=U,V=Object(i.b)((function(e){return{categories:e.categories.categories}}),(function(){return{}}))(H),M=(a(73),function(){return n.a.createElement("div",null,n.a.createElement("ul",{className:"categories__ul"},n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% ")),n.a.createElement("li",{className:"categories__item"},n.a.createElement("h3",null,"Catégorie "),n.a.createElement("p",null,"Progression"),n.a.createElement("progress",{id:"progression",max:"100",value:"70"}," 70% "))))}),B=(a(74),function(e){var t=e.surveyLoading,a=e.getSurveys,o=e.checkIsLogged,i=e.getCategories;return Object(r.useEffect)((function(){i(),a()}),[]),Object(r.useEffect)(o,[]),n.a.createElement("div",{className:"app"},n.a.createElement(g,null),n.a.createElement(w,null),n.a.createElement(m.a,{exact:!0,path:"/register"},n.a.createElement(C,null,n.a.createElement(k,null))),!t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{exact:!0,path:"/"},n.a.createElement(C,null,n.a.createElement(G,null)))),n.a.createElement(m.a,{exact:!0,path:"/categories"},n.a.createElement(C,null,n.a.createElement(V,null))),n.a.createElement(m.a,{exact:!0,path:"/profile"},n.a.createElement(C,null,n.a.createElement(M,null))),n.a.createElement(j,null))});B.propTypes={getCategories:u.a.func.isRequired,getSurveys:u.a.func.isRequired,checkIsLogged:u.a.func.isRequired,surveyLoading:u.a.bool.isRequired};var Y=B,K=Object(i.b)((function(e){return{surveyLoading:e.surveys.surveyLoading}}),(function(e){return{getCategories:function(){return e({type:"GET_CATEGORIES"})},getSurveys:function(){return e({type:"GET_SURVEYS"})},checkIsLogged:function(){return e({type:"CHECK_IS_LOGGED"})}}}))(Y),z=a(13);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){W(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var X={open:!1,username:"",pseudo:"",roles:[],password:"",isLogged:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"HANDLE_TOGGLER_CLICK":case"ON_BLUR_LOGIN":return Q(Q({},e),{},{open:!e.open});case"CHANGE_FIELD_VALUE":return Q(Q({},e),{},W({},t.key,t.value));case"SAVE_USER":return Q(Q({},e),{},{email:"",password:"",isLogged:!0,pseudo:t.pseudo,roles:t.roles});case"LOGOUT":return Q(Q({},e),{},{isLogged:!1,pseudo:"",roles:""});default:return e}};function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){te(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ae={surveys:[],surveyLoading:!0};function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){oe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ie={email:"",password:"",lastName:"",firstName:"",pseudo:"",environment:2},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_FIELD":return ne(ne({},e),{},oe({},t.name,t.value));default:return e}};function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){ue(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ue(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var me={categories:[]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_CATEGORIES":return le(le({},e),{},{categories:t.categories});default:return e}},pe=Object(z.c)({headerLogin:Z,register:se,surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_SURVEYS":return ee(ee({},e),{},{surveys:t.surveys,surveyLoading:!1});default:return e}},categories:ge}),de=function(e){return function(t){return function(a){console.log(e.getState()),console.log("Je laisse passer cette action: ",a),t(a)}}},fe=a(12),ve=a.n(fe),Ee={title:"American History",showProgressBar:"bottom",showTimerPanel:"top",maxTimeToFinishPage:10,maxTimeToFinish:25,firstPageIsStarted:!0,startSurveyText:"Start Quiz",pages:[{questions:[{type:"html",html:"You are about to start quiz by history. <br/>You have 10 seconds for every page and 25 seconds for the whole survey of 3 questions.<br/>Please click on <b>'Start Quiz'</b> button when you are ready."}]},{questions:[{type:"radiogroup",name:"civilwar",title:"When was the Civil War?",choices:["1750-1800","1800-1850","1850-1900","1900-1950","after 1950"],correctAnswer:"1850-1900"}]},{questions:[{type:"radiogroup",name:"libertyordeath",title:"Who said 'Give me liberty or give me death?",choicesOrder:"random",choices:["John Hancock","James Madison","Patrick Henry","Samuel Adams"],correctAnswer:"Patrick Henry"}]},{maxTimeToFinish:15,questions:[{type:"radiogroup",name:"magnacarta",title:"What is the Magna Carta?",choicesOrder:"random",choices:["The foundation of the British parliamentary system","The Great Seal of the monarchs of England","The French Declaration of the Rights of Man","The charter signed by the Pilgrims on the Mayflower"],correctAnswer:"The foundation of the British parliamentary system"}]}],completedHtml:"<h4>You have answered correctly <b>{correctedAnswers}</b> questions from <b>{questionCount}</b>.</h4>"},be=[function(e){return function(t){return function(a){switch(a.type){case"GET_SURVEYS":e.dispatch(function(e){return{type:"SAVE_SURVEYS",surveys:e}}(Ee));break;default:t(a)}}}},de,function(e){return function(t){return function(a){switch(a.type){case"LOGIN":var r=e.getState().headerLogin,n=r.username,o=r.password;ve.a.post("/api/login",{username:n,password:o}).then((function(t){console.log(t);var a=t.data,r=a.token,n=a.pseudo,o=a.roles;window.sessionStorage.setItem("token",r),e.dispatch(c(n,o))})).catch((function(e){console.log(e)})),t(a);break;case"CHECK_IS_LOGGED":ve.a.get("/api/islogged",{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(t){if(console.log("CHECK_IS_LOGGED",t),!1===t.data.logged)console.log("pas logé recommence");else{var a=t.data[0],r=a.pseudo,n=a.roles;e.dispatch(c(r,n))}})).catch((function(e){console.log(e),window.sessionStorage.removeItem("token")})),t(a);break;case"LOGOUT":ve.a.post("/api/logout",{}).then((function(){window.sessionStorage.removeItem("token"),t(a)})).catch((function(e){return console.log(e)}));break;default:t(a)}}}},function(e){return function(t){return function(a){switch(a.type){case"REGISTER":var r=e.getState().register,n=r.email,o=r.password,i=r.lastName,s=r.firstName,c=r.pseudo,l=r.environment;ve.a.post("/api/register",{email:n,password:o,lastName:i,firstName:s,pseudo:c,environment:l},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),t(a);break;default:t(a)}}}},function(e){return function(t){return function(a){switch(a.type){case"GET_CATEGORIES":ve.a.get("http://54.226.34.31/api/categories").then((function(t){console.log("rghd",t.data),e.dispatch(function(e){return{type:"SAVE_CATEGORIES",categories:e}}(t.data))})).catch((function(e){console.log(e)})),t(a);break;default:t(a)}}}}];function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var he,_e=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d)(z.a.apply(void 0,function(e){if(Array.isArray(e))return ye(e)}(he=be)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(he)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ye(e,t):void 0}}(he)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),Oe=Object(z.e)(pe,_e),Ne=n.a.createElement(i.a,{store:Oe},n.a.createElement(s.a,null,n.a.createElement(K,null))),we=document.getElementById("root");Object(o.render)(Ne,we)}},[[37,1,2]]]);