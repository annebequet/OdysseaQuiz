(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(12),i=r(4),s=r(9),c=function(e,t,r,n,a){return{type:"SAVE_USER",pseudo:e,roles:t,avatar:r,id:n,isLogged:a}},l=r(1),u=r.n(l),d=r(5),m=(r(64),function(){return a.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,style:{position:"fixed",width:"100%",height:"100%",left:"0",top:"0",objectFit:"cover",zIndex:"-1"}},a.a.createElement("source",{src:"https://dm0qx8t0i9gc9.cloudfront.net/watermarks/video/rytughwRxj1s1gmp3/videoblocks-underwater-landscape-of-coral-reef-amazing-underwater-marine-life-world-scuba-diving-and-snorkeling_baj3ircnz__d3d6d16680620376fe9c58e37c21cfb7__P360.mp4",type:"video/mp4"}))}),p=r(49),f=r.p+"images/094cde893dffdca893944fca4515a73c.png",g=(r(80),function(e){var t=e.label,r=e.type,n=e.id,o=e.value,i=e.setValue;return a.a.createElement("div",{className:"field"},a.a.createElement("label",{htmlFor:n,className:"field__label"},t),a.a.createElement("input",{className:"field__input",id:n,type:r,placeholder:t,value:o,onChange:function(e){i(e.target.value)}}))});g.propTypes={label:u.a.string.isRequired,type:u.a.string,id:u.a.string.isRequired,value:u.a.string.isRequired,setValue:u.a.func.isRequired},g.defaultProps={type:"text"};var v=g,E=Object(i.b)((function(e,t){return{value:e.headerLogin[t.id]}}),(function(e,t){return{setValue:function(r){e(function(e,t){return{type:"CHANGE_FIELD_VALUE",key:e,value:t}}(t.id,r))}}}))(v),y=r(118),h=r(117);r(81),r(30);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e){var t=e.login,r=b(Object(n.useState)(!1),2),o=r[0],i=r[1],s=function(){return i(!1)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{variant:"primary",onClick:function(){return i(!0)}},"Se Connecter"),a.a.createElement(h.a,{show:o,onHide:s,centered:!0},a.a.createElement(h.a.Header,{closeButton:!0},a.a.createElement(h.a.Title,null,"Entrez vos identifiants!")),a.a.createElement(h.a.Body,null,a.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),t()}},a.a.createElement(E,{label:"Adresse Email",id:"username",type:"username"}),a.a.createElement(E,{label:"Mot de passe",id:"password",type:"password"}),a.a.createElement(y.a,{className:"login__submit",type:"submit",variant:"primary",onClick:s},"Se Connecter"))),a.a.createElement(h.a.Footer,null,a.a.createElement(y.a,{variant:"secondary",onClick:s},"Close"))))};w.propTypes={login:u.a.func.isRequired};var O=w,N=Object(i.b)((function(e){return{open:e.headerLogin.open}}),(function(e){return{handleTogglerClick:function(){e({type:"HANDLE_TOGGLER_CLICK"})},onBlurLogin:function(){e({type:"ON_BLUR_LOGIN"})},login:function(){e({type:"LOGIN"})}}}))(O),S=r(26),R=r.n(S),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/[&]/g,"").replace(/[_]/g,"-"),r=R()(t,{lower:!0,remove:/[*+~.()'"!:@&]/g});return r},j=function(e){var t=e.handleLogout,r=e.pseudo;return a.a.createElement("div",{className:"header__nav__logged"},a.a.createElement("nav",{className:"menu--logged"},a.a.createElement(s.c,{to:"/profile/".concat(C(r)),className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Profil"),a.a.createElement("a",{className:"menu__item menu__item--logout",onClick:t},"Logout")))};j.propTypes={handleLogout:u.a.func.isRequired,pseudo:u.a.string.isRequired};var A=j,T=Object(i.b)((function(e){return{pseudo:e.headerLogin.pseudo}}),(function(e){return{handleLogout:function(){console.log("je veux me déconnecter"),e({type:"LOGOUT"})}}}))(A),I=function(){return a.a.createElement("div",{className:"header__nav__register"},a.a.createElement(s.c,{to:"/register",activeClassName:"menu__link--active",exact:!0},"S'enregistrer"))},P=function(e){var t=e.roles,r=e.isLogged,n=e.loginAdmin,o=function(){n()};return a.a.createElement("div",{className:"header"},a.a.createElement("nav",{className:"menu--desktop"},a.a.createElement(s.c,{to:"/",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Accueil"),a.a.createElement(s.c,{to:"/categories",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Catégories"),-1!==t.indexOf("ROLE_ADMIN")&&a.a.createElement("a",{href:"http://54.226.34.31/back/admin/login",className:"menu__item",onClick:o},"admin")),a.a.createElement("nav",{className:"menu--burger"},a.a.createElement(p.bubble,{disableAutoFocus:!0},a.a.createElement(s.c,{to:"/",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Accueil"),a.a.createElement(s.c,{to:"/categories",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Catégories"),-1!==t.indexOf("ROLE_ADMIN")&&a.a.createElement("a",{href:"http://54.226.34.31/back/admin/login",className:"menu__item",onClick:o},"Admin"),a.a.createElement(s.c,{to:"/contact",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"Contact"),a.a.createElement(s.c,{to:"/faq",className:"menu__item",activeClassName:"menu__link--active",exact:!0},"FAQ"),a.a.createElement("img",{className:"logo",alt:"whale-logo",src:f}))),!r&&a.a.createElement("div",{className:"header__nav__form"},a.a.createElement(I,null),a.a.createElement(N,null)),r&&a.a.createElement(T,null))};P.propTypes={roles:u.a.array.isRequired,isLogged:u.a.bool.isRequired,loginAdmin:u.a.func.isRequired};var L=P,k=Object(i.b)((function(e){return{roles:e.headerLogin.roles,isLogged:e.headerLogin.isLogged}}),(function(e){return{loginAdmin:function(){e({type:"LOGIN_ADMIN"})}}}))(L),D=(r(84),function(){return a.a.createElement("div",{className:"footer"},"Footer")}),q=(r(85),function(e){var t=e.children;return a.a.createElement("main",{className:"page"},a.a.createElement("div",{className:"page__content"},t))});q.propTypes={children:u.a.node.isRequired};var x=q,z=(r(86),function(e){var t=e.value,r=e.type,n=e.name,o=e.label,i=e.onChange,s="register-field-".concat(n);return a.a.createElement("div",{className:t.length>0?"field field--has-content":"field"},a.a.createElement("label",{htmlFor:s,className:"register-field-label"},o),a.a.createElement("input",{value:t,onChange:function(e){i(e.target.value,n)},id:s,type:r,className:"register-field-input",placeholder:o,name:n}))});z.propTypes={value:u.a.string,type:u.a.string,name:u.a.string.isRequired,label:u.a.string.isRequired,onChange:u.a.func.isRequired},z.defaultProps={value:"",type:"text"};var U=z,G=(r(87),function(e){var t=e.value,r=(e.type,e.name),n=e.label,o=e.onChange,i=function(e){o(e.target.value,r)},s="register-field-".concat(r);return a.a.createElement("div",{className:t.length>0?"field field--radio field--has-content":"field field--radio"},a.a.createElement("label",{htmlFor:s,className:"register-field-label"},n),a.a.createElement("label",{className:"field--radio__details"},"Quiz Enfant"),a.a.createElement("input",{value:"1",onChange:i,id:"radio1",type:"radio",className:"register-field-input",placeholder:n,name:r}),a.a.createElement("label",{className:"register-field--radio__details"},"Quiz Adulte"),a.a.createElement("input",{value:"2",onChange:i,id:"radio2",type:"radio",className:"register-field-input",placeholder:n,name:r}))});G.propTypes={value:u.a.string.isRequired,type:u.a.string,name:u.a.string.isRequired,label:u.a.string,onChange:u.a.func.isRequired},G.defaultProps={type:"radio",label:""};var H=G,Q=(r(88),function(e){var t=e.email,r=e.password,n=e.lastName,o=e.firstName,i=e.pseudo,s=e.avatar,c=e.environment,l=e.changeField,u=e.handleRegister,d=e.isRegistered,m=e.error;return a.a.createElement("div",{className:"register"},m&&!d&&a.a.createElement("div",null,"Erreur d'enregistrement, on reste calme, on rajuste ses brassières, et on réessaie : "),!d&&a.a.createElement("form",{className:"register__form",onSubmit:function(e){e.preventDefault(),u()}},a.a.createElement(U,{label:"Adresse Email",id:"username",name:"email",type:"email",onChange:l,value:t}),a.a.createElement(U,{name:"password",type:"password",label:"Mot de passe",id:"password",onChange:l,value:r}),a.a.createElement(U,{name:"lastName",type:"lastName",label:"Nom",id:"lastName",onChange:l,value:n}),a.a.createElement(U,{name:"firstName",type:"firstName",label:"Prénom",id:"lastName",onChange:l,value:o}),a.a.createElement(U,{name:"pseudo",type:"pseudo",label:"Pseudo",id:"pseudo",onChange:l,value:i}),a.a.createElement(U,{name:"avatar",type:"avatar",label:"Avatar",id:"avatar",onChange:l,value:s}),a.a.createElement("div",null,a.a.createElement("label",null,"Changez votre difficulté de jeu!")),a.a.createElement(H,{name:"environment",type:"radio",id:"environment",onChange:l,value:c}),a.a.createElement("button",{type:"submit",className:"register-form-button"},"S'inscrire")),d&&a.a.createElement("div",null,"Bravo pour votre inscription, vous pouvez maintenant vous connecter et commencer à jouer dans le grand bain !"))});Q.propTypes={lastName:u.a.string,firstName:u.a.string,pseudo:u.a.string.isRequired,email:u.a.string.isRequired,password:u.a.string.isRequired,avatar:u.a.string,changeField:u.a.func.isRequired,handleRegister:u.a.func.isRequired,environment:u.a.string.isRequired,isRegistered:u.a.bool.isRequired,error:u.a.bool.isRequired},Q.defaultProps={lastName:"",firstName:"",avatar:""};var V=Q,M=Object(i.b)((function(e){return{email:e.register.email,password:e.register.password,lastName:e.register.lastName,firstName:e.register.firstName,pseudo:e.register.pseudo,avatar:e.register.avatar,environment:e.register.environment,isRegistered:e.register.isRegistered,error:e.register.error}}),(function(e){return{handleRegister:function(){e({type:"REGISTER"})},changeField:function(t,r){e(function(e,t){return{type:"CHANGE_FIELD",name:t,value:e}}(t,r))}}}))(V);function F(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var X=function(e){return function(e){for(var t,r,n=e.length;0!==n;)r=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[r],e[r]=t;return e}(e)},B=function(e){return 0===e.length?"Nous n'avons pas encore de questions pour cette catégorie, revenez bientôt !":"Vous êtes sur le point de commencer notre super quiz. <br/>Vous avez 10 secondes par page et 25 secondes en total pour ce quiz de 10 questions.<br/>Cliquez sur le bouton <b>'Commencer'</b> quand vous êtes prêts. Enjoy !"},Y=r(35),W=(r(89),r(90),function(e){var t=e.surveyData,r=e.isCompleted,o=e.surveyAnswers,i=e.sendResults,s=e.endQuiz,c=e.grade;Object(n.useEffect)((function(){s()}),[]);var l;return a.a.createElement("div",{className:"survey"},!r&&a.a.createElement(Y.Survey,{json:t,showCompletedPage:!1,onComplete:function(e){var t=e.data,r=e.getCorrectedAnswerCount();i(t,r)}}),r&&a.a.createElement("div",{className:"results"},a.a.createElement(Y.Survey,{title:(l=c,function(e){var t="Vous avez ".concat(e," bonne réponse sur 10"),r="Vous avez ".concat(e," bonnes réponses sur 10");return e<2?t:r}(l)),json:t,data:o,showCompletedPage:!1,mode:"display",questionsOnPageMode:"singlePage",showProgressBar:"off",showTimerPanel:"none",maxTimeToFinishPage:0,maxTimeToFinish:0,onAfterRenderQuestion:function(e,t){!function(e,t){var r=document.createElement("span"),n=t.question.isAnswerCorrect();r.innerHTML=n?"Correct":"Incorrect",r.style.color=n?"green":"red";var a=t.htmlElement.querySelector("h5");n||(a.style.backgroundColor="salmon",t.htmlElement.querySelector('input[value="'.concat(t.question.correctAnswer,'"]')).parentElement.style.color="green");a.appendChild(r)}(0,t)}}),a.a.createElement("input",{className:"endQuiz",type:"button",value:"fin",onClick:s})))});W.propTypes={surveyData:u.a.object.isRequired,isCompleted:u.a.bool.isRequired,sendResults:u.a.func.isRequired,endQuiz:u.a.func.isRequired,surveyAnswers:u.a.object.isRequired,grade:u.a.number.isRequired};var J=W,$=Object(i.b)((function(e,t){var r=t.survey?t.survey:e.surveys.surveys,n=t.category?t.category:e.surveys.surveyTitle,a=t.isChildQuiz?e.surveys.isChildQuizCompleted:e.surveys.isCompleted;return{surveyData:function(e,t){var r=X(e),n=r.map((function(e){return{questions:[e]}}));return{title:t,showProgressBar:"bottom",showTimerPanel:"top",maxTimeToFinishPage:10,maxTimeToFinish:25,firstPageIsStarted:!0,startSurveyText:"Commencer",locale:"fr",pages:[{questions:[{type:"html",html:B(r)}]}].concat(F(n)),completedHtml:"<h4>You have answered correctly <b>{correctedAnswers}</b> questions from <b>{questionCount}</b>.</h4>"}}(r,n),isCompleted:a,surveyAnswers:e.surveys.surveyAnswers,grade:e.surveys.points}}),(function(e,t){return{sendResults:function(r,n){e(function(e,t,r,n){return{type:"SEND_RESULTS",answers:e,numberOfCorrectAnswers:t,isExempleQuiz:r,isChildQuiz:n}}(r,n,t.isExempleQuiz,t.isChildQuiz))},endQuiz:function(){return e({type:"END_QUIZ"})}}}))(J),Z=(r(91),function(e){var t=e.adultExempleSurvey,r=e.childrenExempleSurvey;return a.a.createElement("div",null,a.a.createElement("h1",null,"ODYSSEA QUIZ"),a.a.createElement("div",{className:"exempleSurveys"},a.a.createElement($,{survey:t,category:"Exemple adulte",isExempleQuiz:!0,isChildQuiz:!1}),a.a.createElement($,{survey:r,category:"Exemple enfant",isExempleQuiz:!0,isChildQuiz:!0})))});Z.propTypes={adultExempleSurvey:u.a.array.isRequired,childrenExempleSurvey:u.a.array.isRequired};var ee=Z,te=Object(i.b)((function(e){return{adultExempleSurvey:e.surveys.exempleSurveys.adultExempleSurvey,childrenExempleSurvey:e.surveys.exempleSurveys.childrenExempleSurvey}}),{})(ee),re=r.p+"images/8359ca87f798c912d03fd5da58b6fa5b.jpg",ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/[&]/g,"").replace(/[_]/g,"-"),r=R()(t,{lower:!0,remove:/[*+~.()'"!:@&]/g});return r},ae=(r(92),function(e){var t=e.categories;return a.a.createElement("div",{className:"page__categories"},a.a.createElement("ul",{className:"categories__ul"},t.map((function(e){var t=e.name;return a.a.createElement(s.b,{to:"/categories/".concat(ne(t)),className:"category_link",key:t},a.a.createElement("li",{className:"categories__item"},a.a.createElement("h3",null,t," "),a.a.createElement("img",{className:"category__img",alt:"turtle",src:re})))}))))});ae.propTypes={categories:u.a.arrayOf(u.a.shape({name:u.a.string})).isRequired};var oe=ae,ie=Object(i.b)((function(e){return{categories:e.categories.categories,isLogged:e.headerLogin.isLogged}}),(function(){return{}}))(oe),se=(r(93),function(e){var t=e.surveyLoading,r=e.category,o=e.getSurveys,i=e.isLogged,s=e.error;return Object(n.useEffect)((function(){o(r)}),[]),a.a.createElement("div",{className:"category"},!t&&i&&a.a.createElement($,{isChildQuiz:!1}),s&&!i&&a.a.createElement("div",null,"Il faut être connecté pour jouer ! Sautez dans l'eau !"))});se.propTypes={category:u.a.shape({id:u.a.number.isRequired,name:u.a.string.isRequired}),getSurveys:u.a.func.isRequired,surveyLoading:u.a.bool.isRequired,isLogged:u.a.bool.isRequired,error:u.a.bool.isRequired},se.defaultProps={category:{}};var ce=se,le=Object(i.b)((function(e,t){var r,n,a=(r=e.categories.categories,n=t.slug,r.find((function(e){return ne(e.name)===n})));return{isLogged:e.headerLogin.isLogged,surveyLoading:e.surveys.surveyLoading,error:e.surveys.error,category:a}}),(function(e){return{getSurveys:function(t){e({type:"GET_SURVEYS",category:t})}}}))(ce),ue=(r(94),function(e){var t=e.value,r=e.type,n=e.name,o=e.placeholder,i=e.onChange,s="field-".concat(n);return a.a.createElement("div",{className:t.length>0?"field field--has-content":"field"},a.a.createElement("input",{value:t,onChange:function(e){i(e.target.value,n)},id:s,type:r,placeholder:o,name:n}))});ue.propTypes={value:u.a.string,type:u.a.string,name:u.a.string.isRequired,placeholder:u.a.string.isRequired,onChange:u.a.func.isRequired},ue.defaultProps={value:"",type:"text"};var de=ue,me=function(e){var t=e.value,r=(e.type,e.name),n=e.label,o=e.onChange,i=function(e){o(e.target.value,r)},s="register-field-".concat(r);return a.a.createElement("div",{className:t.length>0?"field field--radio field--has-content":"field field--radio"},a.a.createElement("label",{htmlFor:s,className:"register-field-label"},n),a.a.createElement("label",{className:"field--radio__details"},"Quiz Enfant"),a.a.createElement("input",{value:"1",onChange:i,id:"radio1",type:"radio",className:"profile-field-input--radio",placeholder:n,name:r}),a.a.createElement("label",{className:"field--radio__details"},"Quiz Adulte"),a.a.createElement("input",{value:"2",onChange:i,id:"radio2",type:"radio",className:"profile-field-input--radio",placeholder:n,name:r}))};me.propTypes={value:u.a.string.isRequired,type:u.a.string,name:u.a.string.isRequired,label:u.a.string,onChange:u.a.func.isRequired},me.defaultProps={type:"radio",label:""};var pe=me,fe=function(e){var t=e.pseudo,r=e.avatar,o=e.getUser,i=(e.categories,e.handleEditPseudo),s=e.handleEditEmail,c=e.handleEditPassword,l=e.handleEditEnvironment,u=e.changeInput,d=e.newPseudo,m=e.newEmail,p=e.newPassword,f=e.newEnvironment,g=e.handleDelete;Object(n.useEffect)((function(){o()}),[]);return a.a.createElement("div",{className:"profile"},a.a.createElement("div",{className:"profile__edit"},a.a.createElement("div",{className:"profile__wrap__left"},a.a.createElement("img",{className:"profile__odyssea__avatar",alt:"odyssea__avatar",src:r.imageUrl}),a.a.createElement("h3",{className:"profile__pseudo"},"Pseudo : ",t)),a.a.createElement("div",{className:"profile__wrap__right"},a.a.createElement("form",{className:"profile__edit__form --pseudo",onSubmit:function(e){e.preventDefault(),i()}},a.a.createElement("div",null,a.a.createElement("label",null,"Changez votre pseudo")),a.a.createElement(de,{name:"newPseudo",placeholder:"nouveau pseudo",onChange:u,value:d}),a.a.createElement("button",{className:"profile__edit--submit",type:"submit"},"Envoyez vos modifications")),a.a.createElement("form",{className:"profile__edit__form --email",onSubmit:function(e){e.preventDefault(),s()}},a.a.createElement("div",null,a.a.createElement("label",null,"Changez votre adresse e-mail")),a.a.createElement(de,{name:"newEmail",placeholder:"nouvel e-mail",onChange:u,value:m}),a.a.createElement("button",{className:"profile__edit--submit",type:"submit"},"Envoyez vos modifications")),a.a.createElement("form",{className:"profile__edit__form --password",onSubmit:function(e){e.preventDefault(),c()}},a.a.createElement("div",null,a.a.createElement("label",null,"Changez votre Mot de passe")),a.a.createElement(de,{name:"newPassword",placeholder:"nouveau mot de passe",onChange:u,value:p}),a.a.createElement("button",{className:"profile__edit--submit",type:"submit"},"Envoyez vos modifications")),a.a.createElement("form",{className:"profile__edit__form --environment",onSubmit:function(e){e.preventDefault(),l()}},a.a.createElement("div",null,a.a.createElement("label",null,"Changez votre difficulté de jeu!")),a.a.createElement(pe,{name:"newEnvironment",id:"environment",onChange:u,value:f}),a.a.createElement("button",{className:"profile__edit--submit",type:"submit"},"Envoyez vos modifications")))),a.a.createElement("div",{className:"profile--delete"},a.a.createElement("button",{className:"profile__button--delete",type:"button",onClick:function(e){e.preventDefault(),g()}},"Supprimer mon compte")))};fe.propTypes={getUser:u.a.func.isRequired,categories:u.a.arrayOf(u.a.shape({name:u.a.string})).isRequired,avatar:u.a.object,pseudo:u.a.string.isRequired,handleEditPseudo:u.a.func.isRequired,handleEditEmail:u.a.func.isRequired,handleEditPassword:u.a.func.isRequired,handleEditEnvironment:u.a.func.isRequired,handleDelete:u.a.func.isRequired,changeInput:u.a.func.isRequired,newPseudo:u.a.string.isRequired,newEmail:u.a.string.isRequired,newPassword:u.a.string.isRequired,newEnvironment:u.a.string.isRequired},fe.defaultProps={avatar:{}};var ge=fe,ve=Object(i.b)((function(e){return{categories:e.categories.categories,pseudo:e.headerLogin.pseudo,avatar:e.headerLogin.avatar,newEmail:e.profile.newEmail,newPseudo:e.profile.newPseudo,newPassword:e.profile.newPassword,newEnvironment:e.profile.newEnvironment}}),(function(e){return{handleEditPseudo:function(){e({type:"HANDLE_EDIT_PSEUDO"})},handleEditEmail:function(){e({type:"HANDLE_EDIT_EMAIL"})},handleEditPassword:function(){e({type:"HANDLE_EDIT_PASSWORD"})},handleEditEnvironment:function(){e({type:"HANDLE_EDIT_ENVIRONMENT"})},changeInput:function(t,r){e(function(e,t){return{type:"CHANGE_INPUT",name:t,value:e}}(t,r))},handleDelete:function(){e({type:"HANDLE_DELETE"})},getUser:function(){e({type:"GET_USER"})}}}))(ge),Ee=r.p+"images/280bbbda3d468943b5c7d7d0d2ce68f3.jpg";r(95);function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var be=function(){var e=ye(Object(n.useState)(!1),2),t=e[0],r=e[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){return r(!0)}),2e3);return function(){clearTimeout(e)}}),[]),t&&a.a.createElement("div",{className:"error404"},a.a.createElement("h2",{className:"error404__title"},"Error404..."),a.a.createElement("p",null,"Aucune page correspondante à votre recherche! Retournez dans l'eau!"),a.a.createElement("img",{alt:"sad-shark",className:"error404__img",src:Ee}))},_e=(r(96),function(e){var t=e.checkIsLogged,r=e.getCategories,o=e.categoriesLoading;return Object(n.useEffect)(t,[]),Object(n.useEffect)((function(){r()}),[]),a.a.createElement("div",{className:"app"},a.a.createElement(m,null),a.a.createElement(k,null),a.a.createElement(d.c,null,!o&&a.a.createElement(d.a,{exact:!0,path:"/categories"},a.a.createElement(x,null,a.a.createElement(ie,null))),!o&&a.a.createElement(d.a,{exact:!0,path:"/categories/:slug",component:function(e){var t=e.match;return a.a.createElement(x,null,a.a.createElement(le,{slug:t.params.slug}))}}),a.a.createElement(d.a,{exact:!0,path:"/register"},a.a.createElement(x,null,a.a.createElement(M,null))),a.a.createElement(d.a,{exact:!0,path:"/"},a.a.createElement(x,null,a.a.createElement(te,null))),a.a.createElement(d.a,{exact:!0,path:"/profile/:slug",component:function(e){var t=e.match;return a.a.createElement(x,null,a.a.createElement(ve,{slug:t.params.slug}))}}),a.a.createElement(d.a,{path:"*"},a.a.createElement(x,null,a.a.createElement(be,null)))),a.a.createElement(D,null))});_e.propTypes={checkIsLogged:u.a.func.isRequired,getCategories:u.a.func.isRequired,categoriesLoading:u.a.bool.isRequired};var we=_e,Oe=Object(i.b)((function(e){return{categoriesLoading:e.categories.categoriesLoading,isLogged:e.headerLogin.isLogged}}),(function(e){return{checkIsLogged:function(){return e({type:"CHECK_IS_LOGGED"})},getCategories:function(){return e({type:"GET_CATEGORIES"})}}}))(we),Ne=r(18);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var je={open:!1,username:"",pseudo:"",roles:[],password:"",isLogged:!1,avatar:{},id:""},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"HANDLE_TOGGLER_CLICK":case"ON_BLUR_LOGIN":return Re(Re({},e),{},{open:!e.open});case"CHANGE_FIELD_VALUE":return Re(Re({},e),{},Ce({},t.key,t.value));case"SAVE_USER":return Re(Re({},e),{},{email:"",password:"",isLogged:!0,pseudo:t.pseudo,roles:t.roles,avatar:t.avatar,id:t.id});case"LOGOUT":return Re(Re({},e),{},{isLogged:!1,pseudo:"",roles:"",avatar:""});default:return e}},Te=[{type:"radiogroup",name:"civilwar",title:"When was the Civil War?",choices:["1750-1800","1800-1850","1850-1900","1900-1950","after 1950"],correctAnswer:"1850-1900"},{type:"radiogroup",name:"libertyordeath",title:"Who said 'Give me liberty or give me death?",choicesOrder:"random",choices:["John Hancock","James Madison","Patrick Henry","Samuel Adams"],correctAnswer:"Patrick Henry"},{type:"radiogroup",name:"magnacarta",title:"What is the Magna Carta?",choicesOrder:"random",choices:["The foundation of the British parliamentary system","The Great Seal of the monarchs of England","The French Declaration of the Rights of Man","The charter signed by the Pilgrims on the Mayflower"],correctAnswer:"The foundation of the British parliamentary system"}];function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){Le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ke={exempleSurveys:{adultExempleSurvey:Te,childrenExempleSurvey:Te},surveyCategory:"",surveyTitle:"",surveys:{},surveyLoading:!0,isCompleted:!1,isChildQuizCompleted:!1,surveyAnswers:{},points:0,error:!1};function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze={email:"",password:"",lastName:"",firstName:"",pseudo:"",environment:"",isRegistered:!1,error:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_FIELD":return qe(qe({},e),{},xe({},t.name,t.value));case"VALIDATE_REGISTRATION":return qe(qe({},e),{},{isRegistered:!0,error:!1});case"SET_ERROR":return qe(qe({},e),{},{error:!0});default:return e}};function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){Qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ve={categories:[],categoriesLoading:!0},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_CATEGORIES":return He(He({},e),{},{categories:t.categories,categoriesLoading:!1});default:return e}};function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Be={newEmail:"",newPassword:"",newPseudo:"",newEnvironment:""},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_INPUT":return Ke(Ke({},e),{},Xe({},t.name,t.value));default:return e}},We=Object(Ne.c)({headerLogin:Ae,register:Ue,surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_SURVEYS":return Pe(Pe({},e),{},{surveys:t.surveys,surveyLoading:!1});case"SEND_RESULTS":return Pe(Pe({},e),{},{isCompleted:!t.isChildQuiz,isChildQuizCompleted:t.isChildQuiz,surveyAnswers:t.answers,points:t.numberOfCorrectAnswers});case"GET_SURVEYS":return Pe(Pe({},e),{},{surveyCategory:t.category,surveyTitle:t.category.name});case"SET_ERROR":return Pe(Pe({},e),{},{error:!0});case"END_QUIZ":return Pe(Pe({},e),{},{isCompleted:!1,surveyAnswers:{},points:0});default:return e}},categories:Me,profile:Ye}),Je=function(e){return function(t){return function(r){console.log(e.getState()),console.log("Je laisse passer cette action: ",r),t(r)}}},$e=r(6),Ze=r.n($e),et=[function(e){return function(t){return function(r){switch(r.type){case"GET_SURVEYS":var n=r.category.id,a=sessionStorage.getItem("environment");Ze.a.get("http://54.226.34.31/back/api/questions/".concat(a,"/").concat(n),{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(t){console.log("response",t),e.dispatch(function(e){return{type:"SAVE_SURVEYS",surveys:e}}(t.data))})).catch((function(t){console.log(t),e.dispatch({type:"SET_ERROR"})})),t(r);break;case"SEND_RESULTS":if(!r.isExempleQuiz){var o=e.getState(),i=sessionStorage.getItem("environment"),s=o.surveys.surveyCategory.id,c=sessionStorage.getItem("id"),l=r.numberOfCorrectAnswers;Ze.a.post("http://54.226.34.31/back/api/score",{environment:i,category:s,user:c,points:l},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}t(r);break;default:t(r)}}}},Je,function(e){return function(t){return function(r){switch(r.type){case"LOGIN":var n=e.getState().headerLogin,a=n.username,o=n.password;Ze.a.post("http://54.226.34.31/back/api/login",{username:a,password:o}).then((function(t){console.log(t);var r=t.data,n=r.token,a=r.pseudo,o=r.roles,i=r.avatar,s=r.id,l=r.environmentId;window.sessionStorage.setItem("token",n),window.sessionStorage.setItem("id",s),window.sessionStorage.setItem("environment",l),e.dispatch(c(a,o,i,s))})).catch((function(e){console.log(e)})),t(r);break;case"CHECK_IS_LOGGED":Ze.a.get("http://54.226.34.31/back/api/islogged",{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(t){if(console.log("CHECK_IS_LOGGED",t),!1===t.data.logged)console.log("pas logé recommence");else{var r=sessionStorage.getItem("id"),n=t.data[0],a=n.pseudo,o=n.roles,i=n.avatar;e.dispatch(c(a,o,i,r))}})).catch((function(e){console.log(e),window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("id"),window.sessionStorage.removeItem("environment")})),t(r);break;case"LOGOUT":Ze.a.get("http://54.226.34.31/back/api/logout",{}).then((function(){window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("id"),window.sessionStorage.removeItem("environment"),window.location.replace("/"),t(r)})).catch((function(e){return console.log(e)}));break;default:t(r)}}}},function(e){return function(t){return function(r){switch(r.type){case"REGISTER":var n=e.getState().register,a=n.email,o=n.password,i=n.lastName,s=n.firstName,c=n.pseudo,l=n.environment;Ze.a.post("http://54.226.34.31/back/api/register",{email:a,password:o,lastName:i,firstName:s,pseudo:c,environment:l}).then((function(t){console.log(t.data),e.dispatch({type:"VALIDATE_REGISTRATION"})})).catch((function(t){console.log(t),e.dispatch({type:"SET_ERROR"})})),t(r);break;default:t(r)}}}},function(e){return function(t){return function(r){switch(r.type){case"GET_CATEGORIES":Ze.a.get("http://54.226.34.31/back/api/categories").then((function(t){console.log(t.data),e.dispatch(function(e){return{type:"SAVE_CATEGORIES",categories:e}}(t.data))})).catch((function(e){console.log(e)})),t(r);break;default:t(r)}}}},function(e){return function(t){return function(r){switch(r.type){case"HANDLE_EDIT_EMAIL":var n=e.getState().profile.newEmail,a=sessionStorage.getItem("id");Ze.a.put("http://54.226.34.31/back/api/users/".concat(a),{email:n},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),t(r);break;case"HANDLE_EDIT_PSEUDO":var o=e.getState().profile.newPseudo,i=sessionStorage.getItem("id");Ze.a.put("http://54.226.34.31/back/api/users/".concat(i),{pseudo:o},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),window.location.href="http://54.226.34.31/back/api/users/".concat(i)})).catch((function(e){console.log(e)})),t(r);break;case"HANDLE_EDIT_PASSWORD":var s=e.getState().profile.newPassword,c=sessionStorage.getItem("id");Ze.a.put("http://54.226.34.31/back/api/users/".concat(c),{password:s},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),t(r);break;case"GET_USER":var l=sessionStorage.getItem("id");Ze.a.get("http://54.226.34.31/back/api/users/".concat(l),{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),t(r);break;case"HANDLE_EDIT_ENVIRONMENT":var u=e.getState().profile.newEnvironment,d=sessionStorage.getItem("id");Ze.a.put("http://54.226.34.31/back/api/users/".concat(d),{environment:u},{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),window.location.href="http://54.226.34.31/back/api/users/".concat(d)})).catch((function(e){console.log(e)})),t(r);break;case"HANDLE_DELETE":var m=sessionStorage.getItem("id");Ze.a.delete("http://54.226.34.31/back/api/users/".concat(m),{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),window.location.href="http://54.226.34.31/"})).catch((function(e){console.log(e)})),t(r);break;default:t(r)}}}},function(e){return function(e){return function(t){switch(t.type){case"LOGIN_ADMIN":Ze.a.get("http://54.226.34.31/back/admin/login",{headers:{"X-AUTH-TOKEN":sessionStorage.getItem("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),e(t);break;default:e(t)}}}}];function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rt,nt=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ne.d)(Ne.a.apply(void 0,function(e){if(Array.isArray(e))return tt(e)}(rt=et)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(rt)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}(rt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),at=Object(Ne.e)(We,nt),ot=a.a.createElement(i.a,{store:at},a.a.createElement(s.a,null,a.a.createElement(Oe,null))),it=document.getElementById("root");Object(o.render)(ot,it)},30:function(e,t,r){},54:function(e,t,r){r(55),e.exports=r(114)},55:function(e,t,r){},64:function(e,t,r){},80:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){},90:function(e,t,r){},91:function(e,t,r){},92:function(e,t,r){},93:function(e,t,r){},94:function(e,t,r){},95:function(e,t,r){},96:function(e,t,r){}},[[54,1,2]]]);